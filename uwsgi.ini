[uwsgi]
# Socket và PID file
# uwsgi-socket = /tmp/dmoj-site.sock
# chmod-socket = 666
# pidfile = /tmp/dmoj-site.pid
http = 0.0.0.0:10000

# Đường dẫn mã nguồn (trong Docker container)
chdir = /app
pythonpath = /app

# Không cần virtualenv (đã cài pip trực tiếp trong container)
# virtualenv = /home/n/vnojsite

# DMOJ Django application
protocol = uwsgi
master = true
env = DJANGO_SETTINGS_MODULE=dmoj.settings
module = dmoj.wsgi:application
optimize = 2

# Cấu hình scale
memory-report = true
cheaper-algo = backlog
cheaper = 0
processes = 10
cheaper-initial = 5
cheaper-step = 1
cheaper-rss-limit-soft = 201326592
cheaper-rss-limit-hard = 234881024
workers = 7
